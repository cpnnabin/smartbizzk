<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Register - SmartBiz Manager</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

    <link th:href="@{/style.css}" rel="stylesheet" />

    <style>
        :root {
            --primary-color: #29AD81;
            --primary-dark: #218a68;
            --primary-light: #4bc299;
            --secondary-color: #2E86AB;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        .bg-primary {
            background-color: var(--primary-color) !important;
        }

        .text-primary {
            color: var(--primary-color) !important;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-dark);
        }

        .btn-primary:hover,
        .btn-primary:focus {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
        }

        .btn-outline-secondary {
            color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .btn-outline-secondary:hover {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #121212 !important;
            color: #f1f1f1;
        }

        .dark-mode .card {
            background-color: #1e1e1e;
            color: #f1f1f1;
        }

        .dark-mode input,
        .dark-mode .form-control {
            background-color: #2c2c2c;
            color: #fff;
            border-color: #444;
        }

        .theme-switch {
            position: fixed;
            top: 20px;
            right: 30px;
            z-index: 1000;
        }

        /* Footer styles */
        footer {
            background-color: var(--primary-dark);
            color: #fff;
            padding: 1rem 0;
            text-align: center;
            font-size: 0.9rem;
            margin-top: 2rem;
        }

        footer a {
            color: var(--primary-light);
            text-decoration: none;
            margin: 0 0.5rem;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #fff;
            text-decoration: underline;
        }
    </style>
</head>

<body class="bg-light">
<!-- ðŸŒ™ Dark Mode Toggle -->
<div class="theme-switch">
    <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="darkModeToggle" />
        <label class="form-check-label" for="darkModeToggle">Dark Mode</label>
    </div>
</div>

<div class="container-fluid vh-100">
    <div class="row h-100">
        <!-- Left branding panel -->
        <div class="col-lg-6 d-none d-lg-flex align-items-center justify-content-center bg-primary text-white">
            <div class="text-center">
                <i class="fas fa-briefcase fa-5x mb-4"></i>
                <h1 class="display-4 fw-bold">SmartBiz Manager</h1>
                <p class="lead">Join thousands of businesses managing their operations efficiently</p>
            </div>
        </div>

        <!-- Register form -->
        <div class="col-lg-6 d-flex align-items-center justify-content-center">
            <div class="w-100" style="max-width: 400px;">
                <div class="card shadow border-0">
                    <div class="card-body p-5">

                        <div class="text-center mb-4">
                            <i class="fas fa-user-plus fa-3x text-primary mb-2"></i>
                            <h3 class="fw-bold">Create Account</h3>
                            <p class="text-muted">Get started with SmartBiz Manager</p>
                        </div>

                        <form th:action="@{/register}" th:object="${user}" method="post" class="needs-validation" novalidate>
                            <div class="mb-3">
                                <label for="username" class="form-label">
                                    <i class="fas fa-user me-1"></i> Username
                                </label>
                                <input type="text" id="username" class="form-control form-control-lg" th:field="*{username}" placeholder="Enter username" required />
                                <div class="invalid-feedback">Please enter a username.</div>
                            </div>

                            <div class="mb-3">
                                <label for="password" class="form-label">
                                    <i class="fas fa-lock me-1"></i> Password
                                </label>
                                <div class="input-group">
                                    <input type="password" id="password" class="form-control form-control-lg" th:field="*{password}" placeholder="Enter password" required minlength="6" />
                                    <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="invalid-feedback">Please enter a password (min 6 characters).</div>
                            </div>

                            <button type="submit" class="btn btn-primary btn-lg w-100">
                                <i class="fas fa-user-plus me-2"></i> Register
                            </button>
                        </form>

                        <div class="text-center mt-4">
                            <p class="mb-0">Already have an account?
                                <a th:href="@{/auth/login}" class="fw-bold text-decoration-none">Sign in here</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer>
    <div>
        <span>Â© 2025 SmartBiz. All rights reserved.</span>
        <span> | </span>
        <a href="https://github.com/cpnnabin" target="_blank" rel="noopener" aria-label="GitHub">
            <i class="fab fa-github"></i> GitHub
        </a>
        <span> | </span>
        <a href="mailto:nabin@example.com" aria-label="Email">
            <i class="fas fa-envelope"></i> Contact
        </a>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Form validation + toggle password + dark mode toggle -->
<script>
    (function () {
        'use strict';
        window.addEventListener('load', function () {
            var forms = document.getElementsByClassName('needs-validation');
            Array.prototype.filter.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();

    document.getElementById('togglePassword').addEventListener('click', function () {
        const password = document.getElementById('password');
        const icon = this.querySelector('i');
        if (password.type === 'password') {
            password.type = 'text';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            password.type = 'password';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    });

    // Dark mode toggle
    const toggleSwitch = document.getElementById('darkModeToggle');
    toggleSwitch.addEventListener('change', () => {
        document.body.classList.toggle('dark-mode');
    });
</script>
</body>
</html>
